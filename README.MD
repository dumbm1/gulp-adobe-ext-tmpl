# Сборка расширения Adobe HTML5 с помощью менеджера задач Gulp
## Для упрощения верстки используются препроцессоры PUG и SCSS


### Как все это будет работать

  - Клонируйте репозиторий, папку переименуйте в название проекта 
  - Настройте: как настроить подробно описано в подзаголовке `Настройка сборки` 
  - Используйте команды `gulp` и `gulp sign` для сборки проекта из исходников

Чтобы собрать отладочную версию проекта, находясь в папке проекта в терминале набираем:

    $ gulp
    
_Примечание:_ `$` конечно же набирать не надо - это приглашение терминала  

    
Файл `manifest.xml` будет располагаться в папке `CSXS`.<br>
Остальные файлы проекта (js, css, html, графика, шрифты) будут раполагаться в папке `build`.
    
Сборка подписанного установочного `zxp` файла:

    $ gulp sign 

Подписанный zxp-файл будет располагаться в папке `zxp` 
 

### Настройка сборки

#### Для начала необходимы `node.js`, `npm` и локально установленный `gulp`
 
 - если `node.js`  и `npm` не установлены, то [устанавливаем](https://nodejs.org/en/)
 - [устанавливаем Gulp](https://gulpjs.com/docs/en/getting-started/quick-start/)
 

#### Установка необходимых пакетов и зависимостей. <br>
Переходим в папку проекта и в терминале запускаем команду:

    $ npm -i
    
#### Настройка файлов проекта

В корне проекта необходимо создать папку `cert`<br>
В папку `cert` необходимо поместить свой сертификат для подписи расширения.<br>
В этой же папке создать два файла - `cert.js` и `pass.js` - следующего содержания:

cert.js

        const certStr = 'src/сertificate/<ИМЯ СЕРТИФИКАТА>.p12';        
        module.exports.cert = function () {
          return certStr;
        };

pass.js

        const pswrdStr = '<ВАШ ПАРОЛЬ К СЕРТИФИКАТУ>';        
        module.exports.pass = function getPassword() {
          return pswrdStr;
        };


В файле `package.json` меняем заначение параметра `name` на свое.<br>
И заначения параметров со звездочкой и вопросом `// *?` меняем по необходимости и желанию:

          ...
          "name": "<НАЗВАНИЕ ВАШЕГО ПРОЕКТА>",
          "version": "1.0.0", // *?
          "description": "", // *?
          "main": "gulpfile.js",
          "scripts": {
            "test": "echo \"Error: no test specified\" && exit 1"
          },
          "repository": {
            "type": "git", // *?
            "url": "git+https://github.com/<ваш репозиторий>" // *?
          },
          "keywords": [],
          "author": "", // *?
          "license": "ISC", // *?
          "bugs": {
            "url": "https://github.com/<ваш репозиторий>/issues" // *?
          },
          "homepage": "https://github.com/<ваш репозиторий>#readme", // *?
          ...
 
          